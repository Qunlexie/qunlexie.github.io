<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Gen AI System Design (Text Generation, RAG) - Notes</title>
    <link rel="stylesheet" href="../assets/style.css?v=1759443501" />
    <style>
      /* Additional styles for notes page - always visible */
      .notes-content {
        display: block !important;
      }
      
      /* aman.ai inspired styles */
      .notes-header {
        text-align: center;
        margin: 2rem 0;
      }
      
      .notes-header h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
      }
      
      .notes-header .subtitle {
        color: #666;
        font-style: italic;
      }
      
      .category-section {
        background: white;
        padding: 1.5rem;
        margin-bottom: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      
      .category-section h2 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #007bff;
      }
      
      .back-link {
        display: inline-block;
        margin-bottom: 1rem;
        color: #007bff;
        text-decoration: none;
        font-weight: 500;
      }
      
      .back-link:hover {
        text-decoration: underline;
      }
      
      /* Table of Contents Styles */
      .table-of-contents {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 2rem;
      }
      
      .table-of-contents h3 {
        margin-top: 0;
        margin-bottom: 1rem;
        color: #495057;
        font-size: 1.2rem;
      }
      
      .toc-list {
        list-style: none;
        padding-left: 0;
        margin: 0;
      }
      
      .toc-list li {
        margin-bottom: 0.5rem;
      }
      
      .toc-list a {
        color: #007bff;
        text-decoration: none;
        font-weight: 500;
        display: block;
        padding: 0.25rem 0;
        border-radius: 4px;
        transition: all 0.2s ease;
      }
      
      .toc-list a:hover {
        background-color: #e7f3ff;
        padding-left: 0.5rem;
        text-decoration: none;
      }
      
      .question {
        margin-top: 2rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid #e9ecef;
      }
      
      /* Back to Top Button */
      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        font-size: 18px;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0,123,255,0.3);
        transition: all 0.3s ease;
        opacity: 0;
        visibility: hidden;
        z-index: 1000;
      }
      
      .back-to-top:hover {
        background: #0056b3;
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0,123,255,0.4);
      }
      
      .back-to-top.visible {
        opacity: 1;
        visibility: visible;
      }
      
      .back-to-top .icon {
        display: inline-block;
        transform: rotate(-90deg);
      }
      
      /* References section styling */
      .references-section {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        margin-top: 2rem;
      }
      
      .references-section h3 {
        margin-top: 0;
        margin-bottom: 1rem;
        color: #495057;
        font-size: 1.2rem;
      }
      
      .references-list {
        margin: 0;
        padding-left: 1.5rem;
      }
      
      .references-list li {
        margin-bottom: 0.5rem;
        line-height: 1.5;
      }
      
      .references-list a {
        color: #007bff;
        text-decoration: none;
        font-weight: 500;
      }
      
      .references-list a:hover {
        text-decoration: underline;
      }
      
      @media (max-width: 768px) {
        .notes-header h1 {
          font-size: 2rem;
        }
        .table-of-contents {
          padding: 1rem;
        }
        .back-to-top {
          bottom: 20px;
          right: 20px;
          width: 45px;
          height: 45px;
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Notes Content -->
    <div class="notes-content" id="notesContent">
      <header>
        <nav>
          <ul>
            <li><a href="../pages/index.html">Home</a></li>
            <li><a href="../pages/projects.html">Projects and Research</a></li>
            <li><a href="../pages/highlights.html">Highlights</a></li>
            <li><a href="../pages/notes.html">Notes Hub</a></li>
          </ul>
        </nav>
      </header>
      
      <main>
        <div class="notes-header">
          <h1>Gen AI System Design (Text Generation, RAG)</h1>
          <p class="subtitle">comprehensive revision notes</p>
        </div>

        <div class="category-section">
          <a href="../pages/notes.html" class="back-link">‚Üê Back to Notes Hub</a>
          <h2>Gen AI System Design (Text Generation, RAG)</h2>
          <div style="line-height: 1.8;">
            <div class="table-of-contents">
              <h3>üìã Table of Contents</h3>
              <ul class="toc-list">
                <li><a href="#q-design-a-personal-assistant-ch">1. Design a Personal Assistant Chat Bot</a></li>
                <li><a href="#q-data-scpttb">2. Data (SCPTTB)</a></li>
                <li><a href="#q-model">3. Model</a></li>
                <li><a href="#q-inference-architecture">4. Inference Architecture</a></li>
                <li><a href="#q-scalability-and-production-con">5. Scalability and Production Considerations</a></li>
                <li><a href="#q-evaluation-metrics">6. Evaluation Metrics</a></li>
              </ul>
            </div>

            <p id="q-design-a-personal-assistant-ch" class="question"><strong>Design a Personal Assistant Chat Bot</strong></p>
            <ul style="margin-left: 1.5rem;">
              <li>Business and Technical Requirements: Business requirement & context (language support), Data availability (annotated data, self supervision), Scale (QPS, number of users, peak QPS), Latency (< 300ms), System choice (input/output and objective type)</li>
              <li>System Flow/Pipeline (High Level): Data and Training Service (DPSP), Inference Service (SPRRRS), Retraining Service</li>
              <li>Data and Training Service (DPSP): Data processing, Model (Pretraining, Supervised finetuning, Post training RLHF)</li>
              <li>Inference Service (SPRRRS): Safety filtering (filter harmful content from prompt), Prompt enhancer, Response generator, Rejection response generator, Response safety evaluator, Session management</li>
              <li>Retraining Service: Continual learning and Feedback integration</li>
            </ul>
            <p id="q-data-scpttb" class="question"><strong>Data (SCPTTB)</strong></p>
            <ul style="margin-left: 1.5rem;">
              <li>Data sources: Pretraining (Common crawl dataset ~70% ~3TB, Cleaned Common Crawl C4 by Google, GitHub, Stack Exchange, arXiv, Wikipedia ~1.5-2.5 Trillion tokens), Supervised fine-tuning (cleaned, conversational documents, high quality)</li>
              <li>Data cleaning: Deduplication, removing NSFW, filtering low quality, data sensitivity (privacy)</li>
              <li>Data Representation: Preprocessing (normalization, lower casing, stop word removal, lemmatization), Tokenization (Character: hard to learn meaningful representation, Word: Large vocabulary, Subword BPE/Sentence Piece), Token to ids (used to represent text, embedding layer transforms to embedding vector)</li>
              <li>Biases: Addressing Diversity and biases in the data (Data Augmentation)</li>
            </ul>
            <p id="q-model" class="question"><strong>Model</strong></p>
            <ul style="margin-left: 1.5rem;">
              <li>Choice: Trade-offs of model architecture (RNNs vs Transformer), Transformer advantages (Parallel processing, Better long-range dependencies, Attention mechanism, Scalability)</li>
              <li>Training Process: Pretraining (Large-scale unsupervised learning), Supervised Fine-tuning (Task-specific training), Reinforcement Learning from Human Feedback RLHF (Reward model training, Policy optimization, Human preference alignment)</li>
            </ul>
            <p id="q-inference-architecture" class="question"><strong>Inference Architecture</strong></p>
            <ul style="margin-left: 1.5rem;">
              <li>Components: Safety Filtering (input validation, harmful content detection), Prompt Enhancement (context optimization, instruction following), Response Generation (core language model inference), Safety Evaluation (output validation, content filtering), Session Management (context persistence, user state)</li>
              <li>Performance Considerations: Latency optimization (< 300ms target), Throughput scaling (QPS requirements), Memory management, Caching strategies</li>
            </ul>
            <p id="q-scalability-and-production-con" class="question"><strong>Scalability and Production Considerations</strong></p>
            <ul style="margin-left: 1.5rem;">
              <li>Infrastructure: Model serving infrastructure, Load balancing, Auto-scaling, Monitoring and observability</li>
              <li>Data Pipeline: Real-time data ingestion, Batch processing, Feature engineering, Model retraining pipeline</li>
            </ul>
            <p id="q-evaluation-metrics" class="question"><strong>Evaluation Metrics</strong></p>
            <ul style="margin-left: 1.5rem;">
              <li>Technical Metrics: Response time, Throughput (QPS), Model accuracy, Safety compliance</li>
              <li>Business Metrics: User engagement, Task completion rate, User satisfaction, Cost per interaction</li>
            <div class="references-section">
              <h3>üìö References & Resources</h3>
              <ol class="references-list">
                <li><a href="https://arxiv.org/abs/1706.03762" target="_blank" rel="noopener noreferrer">Attention Is All You Need - Vaswani et al.</a></li>
                <li><a href="https://arxiv.org/abs/2203.02155" target="_blank" rel="noopener noreferrer">Training language models to follow instructions with human feedback</a></li>
                <li><a href="https://arxiv.org/abs/2212.08073" target="_blank" rel="noopener noreferrer">Constitutional AI: Harmlessness from AI Feedback</a></li>
                <li><a href="https://arxiv.org/abs/2001.08361" target="_blank" rel="noopener noreferrer">Scaling Laws for Neural Language Models</a></li>
                <li><a href="https://arxiv.org/abs/2005.14165" target="_blank" rel="noopener noreferrer">Language Models are Few-Shot Learners</a></li>
            </ul>
              </ol>
            </div>
          </div>
        </div>

      </main>
      
      <footer>
        <p>&copy; 2025 Gen AI System Design (Text Generation, RAG) Notes</p>
      </footer>
    </div>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()" title="Back to Table of Contents">
      <span class="icon">‚Üí</span>
    </button>

    <script>
      // Notes are now freely accessible - no authentication required
      function checkAuth() {
        // Always show content - knowledge is free!
        document.getElementById('notesContent').style.display = 'block';
      }

      // Scroll to top functionality
      function scrollToTop() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }

      // Show/hide back to top button based on scroll position
      function toggleBackToTopButton() {
        const backToTopButton = document.getElementById('backToTop');
        if (window.pageYOffset > 300) {
          backToTopButton.classList.add('visible');
        } else {
          backToTopButton.classList.remove('visible');
        }
      }

      // Initialize page
      document.addEventListener('DOMContentLoaded', function() {
        checkAuth();
        
        // Add scroll event listener for back to top button
        window.addEventListener('scroll', toggleBackToTopButton);
      });
    </script>
  </body>
</html>